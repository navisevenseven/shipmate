# ShipMate — Quick Start Guide

## Railway Path (~5 min)

The fastest way. Railway provides container isolation, so sandbox mode is not required.

1. Click **Deploy on Railway** in [README](../README.md)
2. Fill env vars in Railway UI:

| Variable | Required | Description |
|----------|----------|-------------|
| `SHIPMATE_REPOS` | Yes | Target repos, comma-separated (`owner/repo`) |
| `GITHUB_TOKEN` | Yes* | [Fine-grained PAT](https://github.com/settings/personal-access-tokens/new) scoped to target repo |
| `GITLAB_TOKEN` | Yes* | Or GitLab Project Access Token (if using GitLab) |
| `TELEGRAM_BOT_TOKEN` | Yes** | Telegram bot token from [@BotFather](https://t.me/BotFather) |
| `SLACK_BOT_TOKEN` | Yes** | Slack Bot Token (`xoxb-...`) |
| `SLACK_APP_TOKEN` | Yes** | Slack App-Level Token (`xapp-...`) — required with Slack |
| `DISCORD_BOT_TOKEN` | Yes** | Discord bot token |
| `DISCORD_GUILD_IDS` | Optional | Discord server IDs (comma-separated) |
| `ANTHROPIC_API_KEY` | Yes*** | Anthropic Claude API key |
| `OPENAI_API_KEY` | Yes*** | Or OpenAI API key |
| `JIRA_BASE_URL` | Optional | `https://yourorg.atlassian.net` |
| `JIRA_API_TOKEN` | Optional | Jira API token |
| `JIRA_USER_EMAIL` | Optional | Email for Jira Basic Auth |

\* At least one platform token required  
\** At least one channel required  
\*** At least one LLM key required

3. Wait for deploy (~2-3 min)
4. Add bot to your chat group

**Important:** Railway containers are ephemeral. Config is regenerated from env vars on every start. To change settings, update env vars in Railway dashboard and redeploy.

## Docker Compose Path (~10 min)

### Interactive wizard

```bash
git clone https://github.com/navisevenseven/shipmate.git
cd shipmate
./setup/wizard.sh
docker compose up -d
```

The wizard walks you through: repo → platform token → chat channel → LLM → optional Jira.

### Manual .env

```bash
cp .env.example .env
# Edit .env with your values
docker compose up -d
```

### Verify

```bash
# Check health
curl http://localhost:3177/health

# Check logs
docker compose logs shipmate
```

## AI Agent Path (~10-15 min)

For users working in AI IDEs (Cursor, Claude Code, Windsurf).

Add to your project's `.cursorrules` or `CLAUDE.md`:

```markdown
## ShipMate (AI Engineering PM Bot)

When the user asks to set up, install, or configure ShipMate:

1. Clone: `git clone https://github.com/navisevenseven/shipmate.git /tmp/shipmate 2>/dev/null || git -C /tmp/shipmate pull`
2. Read and follow: `/tmp/shipmate/docs/agent-setup-guide.md`
```

Then ask your AI: "Set up ShipMate for this project."

The agent will guide you through token creation, validate each step, and deploy.

## Advanced (Manual Setup)

For custom deployments, air-gapped environments, or when you want full control.

```bash
git clone https://github.com/navisevenseven/shipmate.git
cd shipmate
cp .env.example .env
# Edit .env
docker build -t shipmate .
docker run -d --name shipmate \
  -v /path/to/project:/workspace:rw \
  --env-file .env \
  -p 3177:18789 \
  shipmate
```

For manual `openclaw.json` (bypass auto-config):

```bash
# Set in .env:
SHIPMATE_MANUAL_CONFIG=true

# Create your own ~/.openclaw/openclaw.json
# Security invariants are still validated at startup.
```

## Upgrade from v0.3.x

### Option A: Automatic migration

```bash
cd shipmate
git pull
./setup/wizard.sh --migrate    # Extracts tokens from existing openclaw.json → .env
# Review .env, add missing vars (bot token, LLM key)
docker compose build
docker compose up -d
```

### Option B: Fresh start

```bash
./setup/wizard.sh --reset      # Clean up old config
./setup/wizard.sh              # Re-run wizard
docker compose up -d
```

### Breaking changes in v0.5.0

- `openclaw.json.template` removed — config generated by `auto-config.js`
- `.env.scoped` flow removed — use `.env` directly
- `generate-scoped-env.sh` removed — env filtering now in `auto-config.js`
- Entrypoint changed from `openclaw start` to `openclaw gateway`
- OpenClaw version pinned (was `latest`)
- Port mapping fixed: host 3177 → container 18789 (OpenClaw default)

## Multi-Channel Setup

### Telegram (simplest, 1 token)

1. Open [@BotFather](https://t.me/BotFather) → `/newbot`
2. Set `TELEGRAM_BOT_TOKEN` in .env
3. Add bot to your group

### Slack (2 tokens)

1. Go to [api.slack.com/apps](https://api.slack.com/apps) → Create New App
2. OAuth & Permissions → Bot Token Scopes: `chat:write`, `channels:read`, `groups:read`
3. Install to Workspace → copy Bot Token (`xoxb-...`)
4. App-Level Tokens → Generate Token (scope: `connections:write`) → copy (`xapp-...`)
5. Enable Socket Mode
6. Set `SLACK_BOT_TOKEN` and `SLACK_APP_TOKEN` in .env

### Discord (token + guild IDs)

1. Go to [discord.com/developers](https://discord.com/developers/applications) → New Application
2. Bot → Enable Message Content Intent → Reset Token → copy
3. OAuth2 → URL Generator → `bot` scope → Send Messages permission → invite to server
4. Enable Developer Mode → right-click server → Copy Server ID
5. Set `DISCORD_BOT_TOKEN` and `DISCORD_GUILD_IDS` in .env
